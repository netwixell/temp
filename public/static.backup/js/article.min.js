!function(e){if(e.length)for(var t="likes__counter",n="likes__item--active",s=document.querySelector(".likes__counter-wrapper"),r=0,a=e.length;r<a;r++)e[r].addEventListener("click",c,!1);function c(e){e.preventDefault();var r=this,a=r.dataset.type,c=parseInt(r.dataset.count)||0;return r.disabled=!0,getJSON("?reaction="+a,function(e){var a;r.disabled=!1,e.success&&((a=r.querySelector("."+t))&&a.remove(),e.isActive?(c++,r.classList.add(n)):(c--,r.classList.remove(n)),r.dataset.count=c,function(e,t){s.innerHTML=e>0?function(e,t){return'<b class="likes__counter likes__counter--total">'+e+'</b><b class="likes__text">'+t+"</b>"}(e,t):""}(parseInt(e.total)||0,e.totalText),c>0&&r.insertAdjacentHTML("beforeend",function(e){return'<span class="'+t+'">'+e+"</span>"}(c)))}),!1}}(document.querySelectorAll(".likes__item"));